<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Play Dead â€“ Project Zomboid Server</title>

  <!-- Bootstrap 5 -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <!-- Play Dead theme -->
  <link href="pd.css" rel="stylesheet" />

  <!-- Vue 3 -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>

<body>
<div id="app">

  <div class="container-fluid h-100">
    <div class="row h-100">

      <!-- Sidebar -->
      <div class="col-2 sidebar p-0">
        <div class="pd-header">
          <img src="assets/PD.png" alt="Play Dead Panda" />
          <div>
            Play Dead<br />
            <small class="text-muted">Project Zomboid Server</small>
          </div>
        </div>

        <button
          class="nav-button"
          v-for="item in navItems"
          v-on:click="openTab(item)"
        >
          {{ item.label }}
        </button>
      </div>

      <!-- Main -->
      <div class="col-10 p-0">

        <!-- Tabs -->
        <div class="tab-bar">
          <div
            class="tab"
            v-for="tab in tabs"
            :class="{ active: tab.id === activeTab }"
            v-on:click="activeTab = tab.id"
          >
            {{ tab.label }}
          </div>
        </div>

        <!-- Content -->
        <div v-for="tab in tabs" v-show="tab.id === activeTab">
          <iframe :src="tab.src"></iframe>
        </div>

      </div>

    </div>
  </div>

</div>

<script>
const app = Vue.createApp({
  data() {
    return {
      activeTab: null,
      tabs: [],
      navItems: [
        { id: "items", label: "Item Parser", src: "play-dead.html" },
        { id: "logs", label: "Log Parser", src: "log-parser.html" },
        { id: "inibuilder", label: "ini string builder", src: "string-constructor.html" }
      ]
    };
  },

  methods: {
    openTab(item) {
      const existing = this.tabs.find(t => t.id === item.id);
      if (!existing) {
        this.tabs.push(item);
      }
      this.activeTab = item.id;
    }
  }
});

app.mount("#app");
</script>

</body>
</html>
